## HTTP ğŸ’¡â—ï¸âœ” 
### `@RequestHeader`
- HTTP ìš”ì²­ í—¤ë”ë¥¼ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ
1. `@RequestHeader` ì˜ ì¸ìë¡œ í™•ì¸í•˜ê³  ì‹¶ì€ í—¤ë”ë¥¼ ì¸ìë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹
```java
@PostMapping("/header-one")
public String getHeader(
        @RequestHeader("x-likelion-some-header") 
        String targetHeader
) {
    log.info("POST /header-one header: " + targetHeader);
    return "index";
}
```
- `@PathVariable` ì²˜ëŸ¼ ê°€ì ¸ì˜¤ê³  ì‹¶ì€ í—¤ë”ì˜ ì´ë¦„ì„ ì¸ìë¡œ ì „ë‹¬
- í•´ë‹¹í•˜ëŠ” í—¤ë”ê°€ ìš”ì²­ì— í¬í•¨ë˜ì§€ ì•Šìœ¼ë©´ 400 ì‘ë‹µ
- ì„ íƒì ìœ¼ë¡œ í¬í•¨í•˜ëŠ” ê²½ìš° => `required = false` ì¶”ê°€, í—¤ë”ê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš° null í• ë‹¹
```java
@RequestHeader(value = "x-likelion-string", required = false) 
String targetStrHeader
```
- ë°ì´í„° í˜•ì‹ì„ ì•Œë©´ ë°˜ë“œì‹œ ë¬¸ìì—´ë¡œ ì„¤ì •í•  í•„ìš”X, ë‹¤ë§Œ íƒ€ì…ì´ ì¼ì¹˜í•˜ì§€ ì•Šìœ¼ë©´ 400 ë°˜í™˜
```java
@RequestHeader(value = "x-likelion-integer", required = false) 
Integer targetIntHeader
```
---
2. ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ë‹´ê¸°ìœ„í•œ ìë£Œí˜•ì— í•œë²ˆì— ëª¨ë“  í—¤ë”ë¥¼ ë‹´ëŠ” ë°©ì‹
- `Map`,`MultiValueMap`,`HttpHeaders` ì‚¬ìš©
```java
@PostMapping(
        "/headers"
)
public String getHeaders(
        @RequestHeader HttpHeaders headers,
        @RequestHeader Map<String, String> headerMap,
        @RequestHeader MultiValueMap<String, String> headerMvMap
) {
    headers.forEach((key, value) -> log.warn(String.format("%s: %s, %s", key, value, value.getClass())));
    headerMap.forEach((key, value) -> log.warn(String.format("%s: %s, %s", key, value, value.getClass())));
    headerMvMap.forEach((key, value) -> log.warn(String.format("%s: %s, %s", key, value, value.getClass())));
    log.info("POST /headers");
    return "index";
}
```
- ê¸°ë³¸ì ìœ¼ë¡œ `Map`ìœ¼ë¡œ ë°›ëŠ” ê±´ í—¤ë”ì— í•´ë‹¹í•˜ëŠ” ì²«ë²ˆì§¸ ê°’ë§Œ í• ë‹¹ë°›ì„ ìˆ˜ ìˆë‹¤ëŠ” ë‹¨ì ì´ ì¡´ì¬
- `MultiValueMap`ì˜ ê²½ìš° í—¤ë”ì— ë‹´ê¸´ ê°’ì´ ë³µìˆ˜ê°œì¼ ê²½ìš° `List`ë¡œ í• ë‹¹
- `HttpHeaders` ìì£¼ ì‚¬ìš©í•˜ëŠ” ì„¸ë”ì— ëŒ€í•œ ë©”ì„œë“œê°€ ì—¬ëŸ¿ ì •ì˜ëœ Springì—ì„œ ë§Œë“  í¸ì˜ë¥¼ ìœ„í•œ í´ë˜ìŠ¤
    - `.get()` ë˜ëŠ” ì£¼ì–´ì§„ ë©”ì„œë“œ í˜¸ì¶œ
---
### `@RequestBody`, `@ResponseBody`
- HTTP ìš”ì²­ê³¼ ì‘ë‹µì˜ `Body`ë¥¼ ê²°ì •í•˜ëŠ” ì–´ë…¸í…Œì´ì…˜
```java
@RestController
public class ArticleController {
    @PostMapping(
            "/dto"
    )
    @ResponseBody
    public ArticleDto body(@RequestBody ArticleDto dto) {
        log.info("POST /dto, body: " + dto.toString());
        LocalDateTime now = LocalDateTime.now();
        dto.setCreatedAt(now);
        dto.setUpdatedAt(now);
        return dto;
}
```
- ë©”ì„œë“œì— POJO ë§¤ê°œë³€ìˆ˜ ì„ ì–¸
- `@RequestBody`
    - => í´ë¼ì´ì–¸íŠ¸ê°€ ë³´ë‚¸ HTTP Bodyì˜ ë°ì´í„°ê°€
    - `@RequestBody`ì— ì§€ì •ëœ ê°ì²´ì˜ í•„ë“œì™€ ì¼ì¹˜í•  ë•Œ í•´ë‹¹ ë°ì´í„°ë¥¼ ê°ì²´í™”í•´ì„œ ë©”ì„œë“œì˜ ì¸ìë¡œ í• ë‹¹


- `@ResponseBody`
    - ë©”ì„œë“œ ìì²´ì— ì§€ì •í•˜ì—¬ ë°˜í™˜ê°’ì— ëŒ€í•´ ì‘ë™
    - ì§€ì •ëœ POJO ê°ì²´ë¥¼ JSONì„ ë¹„ë¡¯í•œ ë°ì´í„°ì˜ í‘œí˜„ìœ¼ë¡œ ìë™ ë³€í™˜í•´ì„œ ì‘ë‹µ


- `@RestContoller` ë¥¼ ì‚¬ìš©í•˜ë©´ ëª¨ë“  ë©”ì„œë“œì— `@ResponseBody`ê°€ ì¶”ê°€ë¨!
----
### `ResponseEntity`
- `@ResponseBody` ë³´ë‹¤ ì¢€ë” ìƒì„¸í•˜ê²Œ ì‘ë‹µì„ ì¡°ì •í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©
```java
@PostMapping(
        value = "entity"
)
public ResponseEntity<ArticleDto> entity(@RequestBody ArticleDto dto) {
        log.info("POST /entity, body: " + dto.toString());
        LocalDateTime now = LocalDateTime.now();
        dto.setCreatedAt(now);
        dto.setUpdatedAt(now);
        HttpHeaders headers = new HttpHeaders();
        headers.add("X-likelion-response", "hello");
        return new ResponseEntity<>(dto, headers, HttpStatus.OK);
        }
```
- `ResponseEntity`ëŠ” Generic íƒ€ì…ìœ¼ë¡œ, ì‚¬ìš©í•˜ê³  ì‹¶ì€ ì‘ë‹µ íƒ€ì…ì„ ê·¸ëŒ€ë¡œ í™œìš©í•˜ëŠ”ë° ë„ì›€
- `@Controller`í´ë˜ìŠ¤ì—ì„œë„ Viewê°€ ì•„ë‹Œ ë°ì´í„°ë¥¼ ì‘ë‹µí•˜ëŠ” ë©”ì„œë“œ ì„ì„ Springì´ ì‚¬ì „ì— ì•Œ ìˆ˜ ìˆìŒ
- `ResponseEntity`ë¥¼ ë°˜í™˜í•  ê²½ìš° `@ResponseBody`ìƒëµ ê°€ëŠ¥
- ì‘ë‹µ ìƒíƒœ ì½”ë“œ ì§€ì • ê°€ëŠ¥(HttpStatus.OK)
- ì‘ë‹µì— ì¶”ê°€í•˜ê³  ì‹¶ì€ Headerí¬í•¨ ê°€ëŠ¥ `return new ResponseEntity<>(dto, headers, HttpStatus.OK);`
- `new`ë¥¼ ëŒ€ì‹ í•´ ì‘ë‹µì„ ë§Œë“¤ì–´ë‚˜ê°€ê¸° ìœ„í•œ `Builder` ë©”ì„œë“œë„ ì œê³µ

---
### `HttpServletRequest`, `HttpServletResponse`
- ë³¸ë˜ì˜ Java EEEì—ì„œ `HttpServlet`ì„ ì‘ì„±í•´ì„œ Web Serverë¡œ ì§€ê¸‰í•˜ë˜ ì‹œì ˆ, í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ë‹¬ë°›ì€ ìš”ì²­ê³¼ ì‘ë‹µì„ ìœ„í•œ ê°ì²´
- Spring Bootì˜ í•¸ë“¤ëŸ¬ ë©”ì„œë“œì— ì´ íƒ€ì…ë“¤ì˜ ë§¤ê°œë³€ìˆ˜ë¥¼ ì„ ì–¸í•  ê²½ìš°, **Web Serverê°€ ë°›ì€ ìš”ì²­ê³¼ ë³´ë‚¼ ì‘ë‹µì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ í• ë‹¹ë°›ê¸° ê°€ëŠ¥**
- Handler Method ì—ëŠ” ì—¬ëŸ¬ ì¸ìë¥¼ ì •ì˜í•  ìˆ˜ ìˆìœ¼ë©° ì „ì²´ ëª©ë¡ì€ ì•„ë˜ ë§í¬ì—ì„œ í™•ì¸ ê°€ëŠ¥
- https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-controller/ann-methods/arguments.html