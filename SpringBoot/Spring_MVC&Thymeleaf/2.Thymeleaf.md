## Thymeleaf 
### View
- ê¸°ë³¸ì ìœ¼ë¡œ ViewëŠ” ë°ì´í„°ë¥¼ í‘œí˜„í•˜ëŠ” ì£¼ì²´
- ì‚¬ìš©ìê°€ ë³´ëŠ” HTMLì„ ì˜ë¯¸
- ìƒí™©ê³¼ ì‚¬ìš©ìì— ë”°ë¼ = Modelì˜ ë³€í™”ì— ë”°ë¼ ëª¨ìŠµì´ ë°”ë€Œì–´ì•¼ í•¨ -> ***Template Engine*** ë“±ì¥

---
### Template Engine
- HTMLì„ ë™ì ìœ¼ë¡œ ë³€ê²½í•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì¼ì¢…
- Javaê¸°ë°˜ ì›¹ ê°œë°œì—ì„œëŠ” JSPì‚¬ìš©ì´ ë§ì§€ë§Œ
- Spring Bootì—ì„œ HTMLê³¼ì˜ ìœ ì‚¬ì„±ì´ ë†’ê³ , ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ê°€ì§„ Thymeleaf ê¶Œì¥
---
### Thymeleaf
> ğŸ’¡ ì‹¤ìŠµ github link: [MvcController.java](https://github.com/Jang2723/likelion-mvc/tree/main)
- ì¤€ë¹„ëœ HTMLë¬¸ì„œì— ë¹ˆì¹¸ì„ ì±„ì›Œ ë„£ëŠ” ìš©ë„
- `home.html` ìƒì„±
```html
<!--home.html-->
<!DOCTYPE html>
<html lang="en">
<head>
  <title>Home</title>
</head>
<body>
<h1>ì—¬ê¸°ì— ê¸€ì„ ì…ë ¥í•  ì˜ˆì •ì…ë‹ˆë‹¤.</h1>
</body>
</html>
```
- âœ” ëª©í‘œ: `h1`ìš”ì†Œì˜ ë‚´ìš©ë¬¼ì„ íŠ¹ì • ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì±„ì›Œ ë„£ëŠ” ê²ƒ
- `@Controller` ìƒì„±
```java
@Controller
public class MvcController {
    @RequestMapping("/")
    public String home() {
        return "home";
    }
}
```
- Spring Boot í”„ë¡œì íŠ¸ ì‹¤í–‰ í›„ `http://localhost:8080/` ìœ¼ë¡œ ì´ë™í•˜ê²Œ ë˜ë©´
- `home.html`ì— ì‘ì„±í•œ ***ì—¬ê¸°ì— ê¸€ì„ ì…ë ¥í•  ì˜ˆì •ì…ë‹ˆë‹¤.*** ì¶œë ¥
- ë°˜í™˜ê°’ì— ë”°ë¼ ì–´ë–»ê²Œ ì‘ë‹µí• ì§€ëŠ” `DispatcherServlet`ì´ ê²°ì •
- `@Controller`ë©”ì„œë“œì—ì„œ ë¬¸ìì—´ì´ ë°˜í™˜ë  ê²½ìš° `ViewResolver`ë¥¼ í†µí•´ í…œí”Œë¦¿ì„ ì°¾ì•„ ì‘ë‹µ

---
### `th:text`, `${}`, `[[ ]]` ë‚´ìš©ë¬¼ ëŒ€ì²´
- `DispatcherServlet`ì€ `@Controller` ë©”ì„œë“œì˜ ë§¤ê°œë³€ìˆ˜ì— ë”°ë¼ ì ë‹¹í•œ ì¸ì ì „ë‹¬
```java

@Controller
public class MvcController {
    @RequestMapping("/")
    public String home(Model model) {
        model.addAttribute("message", "Hello, Thymeleaf!");
        return "home";
    }
}
```
- `home()` ë©”ì„œë“œì— `Model model` ë§¤ê°œ ë³€ìˆ˜ ì¶”ê°€
- `DispatchServlet`ì´ ë©”ì„œë“œë¥¼ ì‹¤í–‰í•  ë•Œ ì „ë‹¬, ë©”ì„œë“œê°€ ë°˜í™˜ë  ë–„ `home.html`,`ViewResolver`ì— ì „ë‹¬
- Modelì€ Viewì—ì„œ ì‚¬ìš©í•  ë°ì´í„°ë¥¼ ëª¨ì•„ë‘ëŠ” ê°ì²´
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Home</title>
</head>
<body>
<h1 th:text="${message}">ì—¬ê¸°ì— ê¸€ì„ ì…ë ¥í•  ì˜ˆì •ì…ë‹ˆë‹¤.</h1>
</body>
</html>
```
- **Hello, Thymeleaf!** ì¶œë ¥
- `@Controller`ì˜ `model.addAttribute()`ì— ì „ë‹¬í–ˆë˜ `"message"`ì™€ 
- `home.html`ì˜ `th:text="${message}"`ì˜ messageê°€ ë™ì¼í•´ì•¼ í•¨
> `<h1 th:text="${message}"></h1>`

- `th:text` : ìš”ì†Œì˜ contentë¥¼ ì „ë‹¬ë°›ì€ ê°’ìœ¼ë¡œ ëŒ€ì¹˜
- `${data}` : í•´ë‹¹ `model`ì´ ê°€ì§€ê³  ìˆëŠ” `data`ì˜ ê°’ìœ¼ë¡œ ëŒ€ì¹˜   
=> ì—¬ê¸°ì„œëŠ” ë°ì´í„° ì´ë¦„ì´ `message`ì¸ ê²ƒì„ ì°¾ì•„ ëŒ€ì¹˜

---
### ë‚´ìš©ë¬¼ì˜ ì¼ë¶€ë§Œ ë³´ì—¬ì£¼ê³  ì‹¶ì„ ê²½ìš°
```html
<h1>[[${message}]]</h1>
```
- `[[ ]]` ë‚´ë¶€ì˜ `${data}`ì˜ ë¶€ë¶„ì„ Thymeleafê°€ `model`ì˜ `message`ë¡œ ë³€í™˜ 
---
### ê°ì²´ë¥¼ ì´ìš©í•œ í‘œí˜„
ì„ì˜ì˜ ê°ì²´ ìƒì„±
- `Student.java` ìƒì„±
```java
public class Student {
    private String name;
    private String email;

    public Student() {
    }

    public Student(String name, String email) {
        this.name = name;
        this.email = email;
    }
		// ... ìƒëµ
}
```
- `student.html` ìƒì„±
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student</title>
</head>
<body>
	<!-- ì•„ë˜ ìˆ˜ì • ì˜ˆì • -->
  <p>ì´ë¦„: [[${ }]]</p>
  <p>ì´ë©”ì¼: [[${ }]]</p>
</body>
</html>
```
- `student.html`ì„ ë³´ë‚´ì¤„ ë©”ì„œë“œ ì¶”ê°€
```java
@RequestMapping("/student")
public String student(Model model) {
    model.addAttribute("object", new Student("Subin", "subin@gmail.com"));
    return "student";
}
```
- `@Controller`ì—ì„œ modelì„ **objcet**ë¡œ ì „ë‹¬í•˜ê³  ìˆê¸° ë•Œë¬¸ì— htmlì—ì„œ ë°›ì„ ë•Œë„ object ì‚¬ìš©
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student</title>
</head>
<body>
  <p>ì´ë¦„: [[${object.name}]]</p>
  <p>ì´ë©”ì¼: [[${object.email}]]</p>
</body>
</html>
```
- `http://localhost:8080/student` ë¡œ ì´ë™í•˜ë©´ 
- student ë©”ì„œë“œì—ì„œ ë„˜ê²¨ì¤€ ì´ë¦„ê³¼ ì´ë©”ì¼ì´ ì¶œë ¥ëœë‹¤.
- `${data}`ì—ì„œ dataê°€ ê°ì²´ì¸ ê²½ìš° ê·¸ ì†ì„±ì—ëŠ” `.`ì„ ì´ìš©í•´ ì ‘ê·¼ ê°€ëŠ¥
  - í•´ë‹¹ í´ë˜ìŠ¤ì˜ ì†ì„±ì„ ì‚¬ìš©í•˜ë ¤ë©´ `public`ì†ì„±ì´ê±°ë‚˜ `getter`ë¥¼ ìƒì„±í•´ ì£¼ì–´ì•¼ í•¨
- ì´ë¥¼ ì´ìš©í•´ ê°ì²´ì˜ ë©”ì„œë“œì—ë„ ì ‘ê·¼ ê°€ëŠ¥(ex. `List`ì˜ `isEmpty()`)
---
### ì¡°ê±´ë¶€(rendering `th:if`, `th:unless`)
- Javaì˜ `if-else`ì²˜ëŸ¼ ì¡°ê±´ë¶€ í‘œí˜„ì´ ê°€ëŠ¥
- `th:if`, `th:unless`
- `if-unless.html`
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <title>If Unless</title>
</head>
<body>
<h1>Welcome</h1>
  <div th:if="${isLoggedIn}">
    <p>You are logged in.</p>
  </div>
  <div th:unless="${isLoggedIn}">
    <p>Please log in.</p>
  </div>
</body>
</html>
```
```java
@RequestMapping("/is-logged-in")
public String isLoggedIn(Model model) {
    model.addAttribute("isLoggedIn", true);  // ê°’ì„ true, falseë¡œ ë°”ê¿”ê°€ë©° í…ŒìŠ¤íŠ¸í•´ ë´…ì‹œë‹¤.
    return "if-unless";
}
```
- `model`ì— ì¶”ê°€í•œ `isLoggedIn`ì˜ ê°’ì— ë”°ë¼ ê²°ê³¼ê°€ ë‹¤ë¥´ê²Œ ì¶œë ¥
  - `true` : **You are logged in.** ì¶œë ¥
  - `false` : **Please log in.** ì¶œë ¥
---
### ë¦¬ìŠ¤íŠ¸ ë°ì´í„° ë°˜ë³µ
- ë³µìˆ˜ê°œì˜ ë°ì´í„° => `model` ì— `List`ì™€ ê°™ì€ ê°ì²´ë¥¼ í™œìš©í•˜ì—¬ `th:each`ì™€ ì‚¬ìš©
- ì‚¬ìš© ê°€ëŠ¥í•œ ê°ì²´: `Iterable`êµ¬í˜„ì²´, `Map`êµ¬í˜„ì²´, ë°°ì—´
```java
@RequestMapping("/each")
public String items(Model model) {
    List<String> listOfStrings = Arrays.asList("foo", "bar", "baz");
    model.addAttribute("itemList", listOfStrings);
    return "each";
}
```
```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>For Each</title>
</head>
<body>
  <h1>Item List</h1>
  <div>
    <p th:each="item: ${itemList}">[[${item}]]</p>
  </div>
</body>
</html>
```
- itemì—ëŠ” itemListì— ë‹´ê¸´ ì•„ì´í…œì´ í•˜ë‚˜ì”© í• ë‹¹
- item ì¶œë ¥ì´ `[[${item}]]`ì—ì„œ ì¼ì–´ë‚¨
---
### `th:if`, `th:unless`ë¥¼ `th:each`ì™€ í™œìš©
```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Student</title>
</head>
<body>
  <div th:if="${studentList.isEmpty()}">
    <p>No Students Here...</p>
  </div>
  <div th:unless="${studentList.isEmpty()}" th:each="student: ${studentList}">
    <p>ì´ë¦„: [[${student.name}]]</p>
    <p>ì´ë©”ì¼: [[${student.email}]]</p>
  </div>
</body>
</html>
```
- `studentList`ê°€ ë¹„ì–´ìˆì„ ê²½ìš° `No Students Here`ì¶œë ¥